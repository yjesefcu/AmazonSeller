<style>
    dt{
        width: 110px !important;
    }
    dd{
        margin-left: 130px !important;
    }
    dt,dd{
        line-height: 2;
        font-size: 16px;
    }
</style>
<div class="row" ng-controller="settlementDetailCtrl">
    <div class="col-md-12">
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">结算周期：{{ settlement.StartDate }} - {{ settlement.EndDate }}</h3>
            </div>
            <!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <dl class="dl-horizontal">
                                <dt>收入({{ currency }})</dt>
                                <dd>{{ settlement.sales_amount }}</dd>
                                <dt>利润({{ currency }})</dt>
                                <dd>{{ settlement.profit }}</dd>
                                <dt>利润率</dt>
                                <dd>{{ settlement.profit_rate }}</dd>
                            </dl>
                        </div>
                    </div>
                </div>
        </div>
    </div>
    <div class="col-md-12" style="display:none;">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">商品列表</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table id="productsTable" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>序号</th>
                        <th>SKU</th>
                        <th>数量</th>
                        <th>总收入({{ currency }})</th>
                        <th>销售总成本({{ currency }})</th>
                        <th>仓储费({{ currency }})</th>
                        <th>订阅费({{ currency }})</th>
                        <th>总利润({{ currency }})</th>
                        <th>利润率</th>
                        <th>备注</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="p in products"table-repeat-directive>
                        <td>{{ $index + 1 }}</td>
                        <td>{{ p.SellerSKU }}</td>
                        <td>{{ p.PostedDate }}</td>
                        <td>{{ p.UnitPrice }}</td>
                        <td>{{ p.Quantity}}</td>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>  <!-- product table -->
    <div class="col-md-12" ng-if="orders.length">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border" onclick="$(this).next().toggle()">
                <h3 class="box-title">所有订单</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table id="orderTable" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>日期</th>
                        <th>订单号</th>
                        <th>SKU</th>
                        <th>商品图片</th>
                        <th>商品描述</th>
                        <th class="td-sale">数量</th>
                        <th class="td-sale">单价({{ currency }})</th>
                        <th class="td-sale">总价({{ currency }})</th>
                       <!-- <th>佣金({{ currency }})</th>
                        <th>基础服务费({{ currency }})</th>
                        <th>运费({{ currency }})</th> -->
                        <th class="td-sale">实收金额({{ currency }})</th>
                        <th class="td-cost">单位成本({{ currency }})</th>
                        <th class="td-cost">订阅费({{currency}})</th>
                        <th>利润({{currency}})</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="o in orders"table-repeat-directive>
                        <td>{{ o.PostedDate }}</td>
                        <td>{{ o.AmazonOrderId}}</td>
                        <td>{{ o.product.SellerSKU }}</td>
                        <td><img src="{{ host }}{{ o.product.Image }}"></td>
                        <td>{{ o.product.TitleCn}}</td>
                        <td class="td-sale">{{ o.Quantity }}</td>
                        <td class="td-sale"> {{ o.UnitPrice }}</td>
                        <td class="td-sale"> {{ o.Principal }}</td>
                        <td class="td-sale">{{ o.Amount }}</td>
                        <td class="td-cost"> {{ o.cost }}</td>
                        <td class="td-cost">{{o.subscription_fee}}</td>
                        <td> {{ o.profit }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>  <!-- order table -->
    <div class="col-md-12" ng-if="refunds.length">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border" onclick="$(this).next().toggle()">
                <h3 class="box-title">退货</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table id="refundTable" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>日期</th>
                        <th>订单号</th>
                        <th>SKU</th>
                        <th>商品图片</th>
                        <th>商品描述</th>
                        <th class="td-sale">数量</th>
                        <th class="td-sale">退款金额({{ currency }})</th>
                        <th class="td-cost">单位成本({{ currency }})</th>
                        <th class="td-cost">总成本({{ currency }})</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="o in refunds"table-repeat-directive>
                        <td>{{ o.PostedDate }}</td>
                        <td>{{ o.AmazonOrderId}}</td>
                        <td>{{ o.product.SellerSKU }}</td>
                        <td><img src="{{ host }}{{ o.product.Image }}"></td>
                        <td>{{ o.product.TitleCn}}</td>
                        <td class="td-sale">{{ o.quantity }}</td>
                        <td class="td-sale"> {{ o.amount }}</td>
                        <td class="td-cost"> {{ o.cost }}</td>
                        <td class="td-cost">{{ o.total_cost }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>  <!-- refund table -->
    <div class="col-md-12" ng-if="removals.length">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border" onclick="$(this).next().toggle()">
                <h3 class="box-title">弃置/移除</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table id="removalTable" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>日期</th>
                        <th>订单号</th>
                        <th>SKU</th>
                        <th>商品图片</th>
                        <th>商品描述</th>
                        <th class="td-sale">原因</th>
                        <th class="td-sale">数量</th>
                        <th class="td-sale">弃置费({{ currency }})</th>
                        <th class="td-sale">单位成本({{ currency }})</th>
                        <th class="td-cost">总成本({{ currency }})</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="o in removals"table-repeat-directive>
                        <td>{{ o.UpdateDate }}</td>
                        <td>{{ o.OrderId}}</td>
                        <td>{{ o.product.SellerSKU }}</td>
                        <td><img src="{{ host }}{{ o.product.Image }}"></td>
                        <td>{{ o.product.TitleCn}}</td>
                        <td>{{ o.OrderType }}-{{o.Disposition}}</td>
                        <td class="td-sale">{{ o.Quantity }}</td>
                        <td class="td-sale"> {{ o.Fee }}</td>
                        <td class="td-cost"> {{ o.cost }}</td>
                        <td class="td-cost">{{ o.total_cost }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>  <!-- removal table -->
    <div class="col-md-12" ng-if="losts.length">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border" onclick="$(this).next().toggle()">
                <h3 class="box-title">赔偿</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table id="lostTable" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>日期</th>
                        <th>订单号</th>
                        <th>赔偿编号</th>
                        <th>SKU</th>
                        <th>商品图片</th>
                        <th>商品描述</th>
                        <th>原因</th>
                        <th class="td-sale">数量</th>
                        <th class="td-sale">赔偿费用({{ currency }})</th>
                        <th class="td-cost">单位成本({{ currency }})</th>
                        <th class="td-cost">总成本({{ currency }})</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="o in losts"table-repeat-directive>
                        <td>{{ o.PostedDate }}</td>
                        <td>{{ o.AmazonOrderId}}</td>
                        <td>{{ o.TransactionID }}</td>
                        <td>{{ o.product.SellerSKU }}</td>
                        <td><img src="{{ host }}{{ o.product.Image }}"></td>
                        <td>{{ o.product.TitleCn}}</td>
                        <td>{{ o.TransactionType }}</td>
                        <td class="td-sale">{{ o.Quantity }}</td>
                        <td class="td-sale"> {{ o.Amount }}</td>
                        <td class="td-cost"> {{ o.cost }}</td>
                        <td class="td-cost">{{ o.total_cost }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>  <!-- compensate table -->

    <div class="col-md-12" ng-if="products.length">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border" onclick="$(this).next().toggle()">
                <h3 class="box-title">商品统计</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                <table id="summaryTable" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>序号</th>
                        <th>SKU</th>
                        <th>商品图片</th>
                        <th>商品描述</th>
                        <th class="td-sale">数量</th>
                        <th class="td-sale">总收入({{ currency }})</th>
                        <th class="td-sale">总成本({{ currency }})</th>
                        <th class="td-cost">广告费({{ currency }})</th>
                        <th class="td-cost">仓储费({{ currency }})</th>
                        <th>利润({{ currency }})</th>
                        <td>利润率</td>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="o in compensations"table-repeat-directive>
                        <td>{{ $index+1 }}</td>
                        <td>{{ o.product.SellerSKU }}</td>
                        <td><img src="{{ host }}{{ o.product.Image }}"></td>
                        <td>{{ o.product.TitleCn}}</td>
                        <td>{{ o.quantity }}</td>
                        <td class="td-sale">{{ o.sales_amount }}</td>
                        <td class="td-sale"> {{ o.total_cost }}</td>
                        <td class="td-cost"> {{ o.advertising_fee }}</td>
                        <td class="td-cost">{{ o.storage_fee }}</td>
                        <td>{{ o.profit }}</td>
                        <td>{{ o.profit_rate }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>  <!-- product summary table -->
</div>